<!DOCTYPE html>
<html>
  <head>
      <meta charset="utf-8" />
      <title>安装部署</title>
      <style>.markdown-preview:not([data-use-github-style]) { padding: 2em; font-size: 1.2em; color: rgb(171, 178, 191); background-color: rgb(40, 44, 52); overflow: auto; }
.markdown-preview:not([data-use-github-style]) > :first-child { margin-top: 0px; }
.markdown-preview:not([data-use-github-style]) h1, .markdown-preview:not([data-use-github-style]) h2, .markdown-preview:not([data-use-github-style]) h3, .markdown-preview:not([data-use-github-style]) h4, .markdown-preview:not([data-use-github-style]) h5, .markdown-preview:not([data-use-github-style]) h6 { line-height: 1.2; margin-top: 1.5em; margin-bottom: 0.5em; color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) h1 { font-size: 2.4em; font-weight: 300; }
.markdown-preview:not([data-use-github-style]) h2 { font-size: 1.8em; font-weight: 400; }
.markdown-preview:not([data-use-github-style]) h3 { font-size: 1.5em; font-weight: 500; }
.markdown-preview:not([data-use-github-style]) h4 { font-size: 1.2em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) h5 { font-size: 1.1em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) h6 { font-size: 1em; font-weight: 600; }
.markdown-preview:not([data-use-github-style]) strong { color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) del { color: rgb(124, 135, 156); }
.markdown-preview:not([data-use-github-style]) a, .markdown-preview:not([data-use-github-style]) a code { color: rgb(82, 139, 255); }
.markdown-preview:not([data-use-github-style]) img { max-width: 100%; }
.markdown-preview:not([data-use-github-style]) > p { margin-top: 0px; margin-bottom: 1.5em; }
.markdown-preview:not([data-use-github-style]) > ul, .markdown-preview:not([data-use-github-style]) > ol { margin-bottom: 1.5em; }
.markdown-preview:not([data-use-github-style]) blockquote { margin: 1.5em 0px; font-size: inherit; color: rgb(124, 135, 156); border-color: rgb(75, 83, 98); border-width: 4px; }
.markdown-preview:not([data-use-github-style]) hr { margin: 3em 0px; border-top: 2px dashed rgb(75, 83, 98); background: none; }
.markdown-preview:not([data-use-github-style]) table { margin: 1.5em 0px; }
.markdown-preview:not([data-use-github-style]) th { color: rgb(255, 255, 255); }
.markdown-preview:not([data-use-github-style]) th, .markdown-preview:not([data-use-github-style]) td { padding: 0.66em 1em; border: 1px solid rgb(75, 83, 98); }
.markdown-preview:not([data-use-github-style]) code { color: rgb(255, 255, 255); background-color: rgb(58, 63, 75); }
.markdown-preview:not([data-use-github-style]) pre.editor-colors { margin: 1.5em 0px; padding: 1em; font-size: 0.92em; border-radius: 3px; background-color: rgb(49, 54, 63); }
.markdown-preview:not([data-use-github-style]) kbd { color: rgb(255, 255, 255); border-width: 1px 1px 2px; border-style: solid; border-color: rgb(75, 83, 98) rgb(75, 83, 98) rgb(62, 68, 81); border-image: initial; background-color: rgb(58, 63, 75); }
.markdown-preview[data-use-github-style] { font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif; line-height: 1.6; word-wrap: break-word; padding: 30px; font-size: 16px; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255); overflow: scroll; }
.markdown-preview[data-use-github-style] > :first-child { margin-top: 0px !important; }
.markdown-preview[data-use-github-style] > :last-child { margin-bottom: 0px !important; }
.markdown-preview[data-use-github-style] a:not([href]) { color: inherit; text-decoration: none; }
.markdown-preview[data-use-github-style] .absent { color: rgb(204, 0, 0); }
.markdown-preview[data-use-github-style] .anchor { position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; }
.markdown-preview[data-use-github-style] .anchor:focus { outline: none; }
.markdown-preview[data-use-github-style] h1, .markdown-preview[data-use-github-style] h2, .markdown-preview[data-use-github-style] h3, .markdown-preview[data-use-github-style] h4, .markdown-preview[data-use-github-style] h5, .markdown-preview[data-use-github-style] h6 { position: relative; margin-top: 1em; margin-bottom: 16px; font-weight: bold; line-height: 1.4; }
.markdown-preview[data-use-github-style] h1 .octicon-link, .markdown-preview[data-use-github-style] h2 .octicon-link, .markdown-preview[data-use-github-style] h3 .octicon-link, .markdown-preview[data-use-github-style] h4 .octicon-link, .markdown-preview[data-use-github-style] h5 .octicon-link, .markdown-preview[data-use-github-style] h6 .octicon-link { display: none; color: rgb(0, 0, 0); vertical-align: middle; }
.markdown-preview[data-use-github-style] h1:hover .anchor, .markdown-preview[data-use-github-style] h2:hover .anchor, .markdown-preview[data-use-github-style] h3:hover .anchor, .markdown-preview[data-use-github-style] h4:hover .anchor, .markdown-preview[data-use-github-style] h5:hover .anchor, .markdown-preview[data-use-github-style] h6:hover .anchor { padding-left: 8px; margin-left: -30px; text-decoration: none; }
.markdown-preview[data-use-github-style] h1:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h2:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h3:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h4:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h5:hover .anchor .octicon-link, .markdown-preview[data-use-github-style] h6:hover .anchor .octicon-link { display: inline-block; }
.markdown-preview[data-use-github-style] h1 tt, .markdown-preview[data-use-github-style] h2 tt, .markdown-preview[data-use-github-style] h3 tt, .markdown-preview[data-use-github-style] h4 tt, .markdown-preview[data-use-github-style] h5 tt, .markdown-preview[data-use-github-style] h6 tt, .markdown-preview[data-use-github-style] h1 code, .markdown-preview[data-use-github-style] h2 code, .markdown-preview[data-use-github-style] h3 code, .markdown-preview[data-use-github-style] h4 code, .markdown-preview[data-use-github-style] h5 code, .markdown-preview[data-use-github-style] h6 code { font-size: inherit; }
.markdown-preview[data-use-github-style] h1 { padding-bottom: 0.3em; font-size: 2.25em; line-height: 1.2; border-bottom: 1px solid rgb(238, 238, 238); }
.markdown-preview[data-use-github-style] h1 .anchor { line-height: 1; }
.markdown-preview[data-use-github-style] h2 { padding-bottom: 0.3em; font-size: 1.75em; line-height: 1.225; border-bottom: 1px solid rgb(238, 238, 238); }
.markdown-preview[data-use-github-style] h2 .anchor { line-height: 1; }
.markdown-preview[data-use-github-style] h3 { font-size: 1.5em; line-height: 1.43; }
.markdown-preview[data-use-github-style] h3 .anchor { line-height: 1.2; }
.markdown-preview[data-use-github-style] h4 { font-size: 1.25em; }
.markdown-preview[data-use-github-style] h4 .anchor { line-height: 1.2; }
.markdown-preview[data-use-github-style] h5 { font-size: 1em; }
.markdown-preview[data-use-github-style] h5 .anchor { line-height: 1.1; }
.markdown-preview[data-use-github-style] h6 { font-size: 1em; color: rgb(119, 119, 119); }
.markdown-preview[data-use-github-style] h6 .anchor { line-height: 1.1; }
.markdown-preview[data-use-github-style] p, .markdown-preview[data-use-github-style] blockquote, .markdown-preview[data-use-github-style] ul, .markdown-preview[data-use-github-style] ol, .markdown-preview[data-use-github-style] dl, .markdown-preview[data-use-github-style] table, .markdown-preview[data-use-github-style] pre { margin-top: 0px; margin-bottom: 16px; }
.markdown-preview[data-use-github-style] hr { height: 4px; padding: 0px; margin: 16px 0px; background-color: rgb(231, 231, 231); border: 0px none; }
.markdown-preview[data-use-github-style] ul, .markdown-preview[data-use-github-style] ol { padding-left: 2em; }
.markdown-preview[data-use-github-style] ul.no-list, .markdown-preview[data-use-github-style] ol.no-list { padding: 0px; list-style-type: none; }
.markdown-preview[data-use-github-style] ul ul, .markdown-preview[data-use-github-style] ul ol, .markdown-preview[data-use-github-style] ol ol, .markdown-preview[data-use-github-style] ol ul { margin-top: 0px; margin-bottom: 0px; }
.markdown-preview[data-use-github-style] li > p { margin-top: 16px; }
.markdown-preview[data-use-github-style] dl { padding: 0px; }
.markdown-preview[data-use-github-style] dl dt { padding: 0px; margin-top: 16px; font-size: 1em; font-style: italic; font-weight: bold; }
.markdown-preview[data-use-github-style] dl dd { padding: 0px 16px; margin-bottom: 16px; }
.markdown-preview[data-use-github-style] blockquote { padding: 0px 15px; color: rgb(119, 119, 119); border-left: 4px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] blockquote > :first-child { margin-top: 0px; }
.markdown-preview[data-use-github-style] blockquote > :last-child { margin-bottom: 0px; }
.markdown-preview[data-use-github-style] table { display: block; width: 100%; overflow: auto; word-break: keep-all; }
.markdown-preview[data-use-github-style] table th { font-weight: bold; }
.markdown-preview[data-use-github-style] table th, .markdown-preview[data-use-github-style] table td { padding: 6px 13px; border: 1px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] table tr { background-color: rgb(255, 255, 255); border-top: 1px solid rgb(204, 204, 204); }
.markdown-preview[data-use-github-style] table tr:nth-child(2n) { background-color: rgb(248, 248, 248); }
.markdown-preview[data-use-github-style] img { max-width: 100%; box-sizing: border-box; }
.markdown-preview[data-use-github-style] .emoji { max-width: none; }
.markdown-preview[data-use-github-style] span.frame { display: block; overflow: hidden; }
.markdown-preview[data-use-github-style] span.frame > span { display: block; float: left; width: auto; padding: 7px; margin: 13px 0px 0px; overflow: hidden; border: 1px solid rgb(221, 221, 221); }
.markdown-preview[data-use-github-style] span.frame span img { display: block; float: left; }
.markdown-preview[data-use-github-style] span.frame span span { display: block; padding: 5px 0px 0px; clear: both; color: rgb(51, 51, 51); }
.markdown-preview[data-use-github-style] span.align-center { display: block; overflow: hidden; clear: both; }
.markdown-preview[data-use-github-style] span.align-center > span { display: block; margin: 13px auto 0px; overflow: hidden; text-align: center; }
.markdown-preview[data-use-github-style] span.align-center span img { margin: 0px auto; text-align: center; }
.markdown-preview[data-use-github-style] span.align-right { display: block; overflow: hidden; clear: both; }
.markdown-preview[data-use-github-style] span.align-right > span { display: block; margin: 13px 0px 0px; overflow: hidden; text-align: right; }
.markdown-preview[data-use-github-style] span.align-right span img { margin: 0px; text-align: right; }
.markdown-preview[data-use-github-style] span.float-left { display: block; float: left; margin-right: 13px; overflow: hidden; }
.markdown-preview[data-use-github-style] span.float-left span { margin: 13px 0px 0px; }
.markdown-preview[data-use-github-style] span.float-right { display: block; float: right; margin-left: 13px; overflow: hidden; }
.markdown-preview[data-use-github-style] span.float-right > span { display: block; margin: 13px auto 0px; overflow: hidden; text-align: right; }
.markdown-preview[data-use-github-style] code, .markdown-preview[data-use-github-style] tt { padding: 0.2em 0px; margin: 0px; font-size: 85%; background-color: rgba(0, 0, 0, 0.0392157); border-radius: 3px; }
.markdown-preview[data-use-github-style] code::before, .markdown-preview[data-use-github-style] tt::before, .markdown-preview[data-use-github-style] code::after, .markdown-preview[data-use-github-style] tt::after { letter-spacing: -0.2em; content: " "; }
.markdown-preview[data-use-github-style] code br, .markdown-preview[data-use-github-style] tt br { display: none; }
.markdown-preview[data-use-github-style] del code { text-decoration: inherit; }
.markdown-preview[data-use-github-style] pre > code { padding: 0px; margin: 0px; font-size: 100%; word-break: normal; white-space: pre; background: transparent; border: 0px; }
.markdown-preview[data-use-github-style] .highlight { margin-bottom: 16px; }
.markdown-preview[data-use-github-style] .highlight pre, .markdown-preview[data-use-github-style] pre { padding: 16px; overflow: auto; font-size: 85%; line-height: 1.45; background-color: rgb(247, 247, 247); border-radius: 3px; }
.markdown-preview[data-use-github-style] .highlight pre { margin-bottom: 0px; word-break: normal; }
.markdown-preview[data-use-github-style] pre { word-wrap: normal; }
.markdown-preview[data-use-github-style] pre code, .markdown-preview[data-use-github-style] pre tt { display: inline; max-width: initial; padding: 0px; margin: 0px; overflow: initial; line-height: inherit; word-wrap: normal; background-color: transparent; border: 0px; }
.markdown-preview[data-use-github-style] pre code::before, .markdown-preview[data-use-github-style] pre tt::before, .markdown-preview[data-use-github-style] pre code::after, .markdown-preview[data-use-github-style] pre tt::after { content: normal; }
.markdown-preview[data-use-github-style] kbd { display: inline-block; padding: 3px 5px; font-size: 11px; line-height: 10px; color: rgb(85, 85, 85); vertical-align: middle; background-color: rgb(252, 252, 252); border-width: 1px; border-style: solid; border-color: rgb(204, 204, 204) rgb(204, 204, 204) rgb(187, 187, 187); border-image: initial; border-radius: 3px; box-shadow: rgb(187, 187, 187) 0px -1px 0px inset; }
.markdown-preview[data-use-github-style] a { color: rgb(51, 122, 183); }
.markdown-preview[data-use-github-style] code { color: inherit; }
.markdown-preview[data-use-github-style] pre.editor-colors { padding: 0.8em 1em; margin-bottom: 1em; font-size: 0.85em; border-radius: 4px; overflow: auto; }
.scrollbars-visible-always .markdown-preview pre.editor-colors .vertical-scrollbar, .scrollbars-visible-always .markdown-preview pre.editor-colors .horizontal-scrollbar { visibility: hidden; }
.scrollbars-visible-always .markdown-preview pre.editor-colors:hover .vertical-scrollbar, .scrollbars-visible-always .markdown-preview pre.editor-colors:hover .horizontal-scrollbar { visibility: visible; }
.markdown-preview .task-list-item-checkbox { position: absolute; margin: 0.25em 0px 0px -1.4em; }
.bracket-matcher .region {
  border-bottom: 1px dotted lime;
  position: absolute;
}
.line-number.bracket-matcher {
  background-color: #777;
}

.spell-check-misspelling .region {
  border-bottom: 2px dotted rgba(255, 51, 51, 0.75);
}
.spell-check-corrections {
  width: 25em !important;
}

pre.editor-colors {
  background-color: #282c34;
  color: #abb2bf;
}
pre.editor-colors .line.cursor-line {
  background-color: rgba(153, 187, 255, 0.04);
}
pre.editor-colors .invisible {
  color: #abb2bf;
}
pre.editor-colors .cursor {
  border-left: 2px solid #528bff;
}
pre.editor-colors .selection .region {
  background-color: #3e4451;
}
pre.editor-colors .bracket-matcher .region {
  border-bottom: 1px solid #528bff;
  box-sizing: border-box;
}
pre.editor-colors .invisible-character {
  color: rgba(171, 178, 191, 0.15);
}
pre.editor-colors .indent-guide {
  color: rgba(171, 178, 191, 0.15);
}
pre.editor-colors .wrap-guide {
  background-color: rgba(171, 178, 191, 0.15);
}
pre.editor-colors .find-result .region.region.region,
pre.editor-colors .current-result .region.region.region {
  border-radius: 2px;
  background-color: rgba(82, 139, 255, 0.24);
  transition: border-color 0.4s;
}
pre.editor-colors .find-result .region.region.region {
  border: 2px solid transparent;
}
pre.editor-colors .current-result .region.region.region {
  border: 2px solid #528bff;
  transition-duration: .1s;
}
pre.editor-colors .gutter .line-number {
  color: #636d83;
  -webkit-font-smoothing: antialiased;
}
pre.editor-colors .gutter .line-number.cursor-line {
  color: #abb2bf;
  background-color: #2c313a;
}
pre.editor-colors .gutter .line-number.cursor-line-no-selection {
  background-color: transparent;
}
pre.editor-colors .gutter .line-number .icon-right {
  color: #abb2bf;
}
pre.editor-colors .gutter:not(.git-diff-icon) .line-number.git-line-removed.git-line-removed::before {
  bottom: -3px;
}
pre.editor-colors .gutter:not(.git-diff-icon) .line-number.git-line-removed::after {
  content: "";
  position: absolute;
  left: 0px;
  bottom: 0px;
  width: 25px;
  border-bottom: 1px dotted rgba(224, 82, 82, 0.5);
  pointer-events: none;
}
pre.editor-colors .gutter .line-number.folded,
pre.editor-colors .gutter .line-number:after,
pre.editor-colors .fold-marker:after {
  color: #abb2bf;
}
.syntax--comment {
  color: #5c6370;
  font-style: italic;
}
.syntax--comment .syntax--markup.syntax--link {
  color: #5c6370;
}
.syntax--entity.syntax--name.syntax--type {
  color: #e5c07b;
}
.syntax--entity.syntax--other.syntax--inherited-class {
  color: #98c379;
}
.syntax--keyword {
  color: #c678dd;
}
.syntax--keyword.syntax--control {
  color: #c678dd;
}
.syntax--keyword.syntax--operator {
  color: #abb2bf;
}
.syntax--keyword.syntax--other.syntax--special-method {
  color: #61afef;
}
.syntax--keyword.syntax--other.syntax--unit {
  color: #d19a66;
}
.syntax--storage {
  color: #c678dd;
}
.syntax--storage.syntax--type.syntax--annotation,
.syntax--storage.syntax--type.syntax--primitive {
  color: #c678dd;
}
.syntax--storage.syntax--modifier.syntax--package,
.syntax--storage.syntax--modifier.syntax--import {
  color: #abb2bf;
}
.syntax--constant {
  color: #d19a66;
}
.syntax--constant.syntax--variable {
  color: #d19a66;
}
.syntax--constant.syntax--character.syntax--escape {
  color: #56b6c2;
}
.syntax--constant.syntax--numeric {
  color: #d19a66;
}
.syntax--constant.syntax--other.syntax--color {
  color: #56b6c2;
}
.syntax--constant.syntax--other.syntax--symbol {
  color: #56b6c2;
}
.syntax--variable {
  color: #e06c75;
}
.syntax--variable.syntax--interpolation {
  color: #be5046;
}
.syntax--variable.syntax--parameter {
  color: #abb2bf;
}
.syntax--string {
  color: #98c379;
}
.syntax--string.syntax--regexp {
  color: #56b6c2;
}
.syntax--string.syntax--regexp .syntax--source.syntax--ruby.syntax--embedded {
  color: #e5c07b;
}
.syntax--string.syntax--other.syntax--link {
  color: #e06c75;
}
.syntax--punctuation.syntax--definition.syntax--comment {
  color: #5c6370;
}
.syntax--punctuation.syntax--definition.syntax--method-parameters,
.syntax--punctuation.syntax--definition.syntax--function-parameters,
.syntax--punctuation.syntax--definition.syntax--parameters,
.syntax--punctuation.syntax--definition.syntax--separator,
.syntax--punctuation.syntax--definition.syntax--seperator,
.syntax--punctuation.syntax--definition.syntax--array {
  color: #abb2bf;
}
.syntax--punctuation.syntax--definition.syntax--heading,
.syntax--punctuation.syntax--definition.syntax--identity {
  color: #61afef;
}
.syntax--punctuation.syntax--definition.syntax--bold {
  color: #e5c07b;
  font-weight: bold;
}
.syntax--punctuation.syntax--definition.syntax--italic {
  color: #c678dd;
  font-style: italic;
}
.syntax--punctuation.syntax--section.syntax--embedded {
  color: #be5046;
}
.syntax--punctuation.syntax--section.syntax--method,
.syntax--punctuation.syntax--section.syntax--class,
.syntax--punctuation.syntax--section.syntax--inner-class {
  color: #abb2bf;
}
.syntax--support.syntax--class {
  color: #e5c07b;
}
.syntax--support.syntax--type {
  color: #56b6c2;
}
.syntax--support.syntax--function {
  color: #56b6c2;
}
.syntax--support.syntax--function.syntax--any-method {
  color: #61afef;
}
.syntax--entity.syntax--name.syntax--function {
  color: #61afef;
}
.syntax--entity.syntax--name.syntax--class,
.syntax--entity.syntax--name.syntax--type.syntax--class {
  color: #e5c07b;
}
.syntax--entity.syntax--name.syntax--section {
  color: #61afef;
}
.syntax--entity.syntax--name.syntax--tag {
  color: #e06c75;
}
.syntax--entity.syntax--other.syntax--attribute-name {
  color: #d19a66;
}
.syntax--entity.syntax--other.syntax--attribute-name.syntax--id {
  color: #61afef;
}
.syntax--meta.syntax--class {
  color: #e5c07b;
}
.syntax--meta.syntax--class.syntax--body {
  color: #abb2bf;
}
.syntax--meta.syntax--method-call,
.syntax--meta.syntax--method {
  color: #abb2bf;
}
.syntax--meta.syntax--definition.syntax--variable {
  color: #e06c75;
}
.syntax--meta.syntax--link {
  color: #d19a66;
}
.syntax--meta.syntax--require {
  color: #61afef;
}
.syntax--meta.syntax--selector {
  color: #c678dd;
}
.syntax--meta.syntax--separator {
  background-color: #373b41;
  color: #abb2bf;
}
.syntax--meta.syntax--tag {
  color: #abb2bf;
}
.syntax--underline {
  text-decoration: underline;
}
.syntax--none {
  color: #abb2bf;
}
.syntax--invalid.syntax--deprecated {
  color: #523d14 !important;
  background-color: #e0c285 !important;
}
.syntax--invalid.syntax--illegal {
  color: white !important;
  background-color: #e05252 !important;
}
.syntax--markup.syntax--bold {
  color: #d19a66;
  font-weight: bold;
}
.syntax--markup.syntax--changed {
  color: #c678dd;
}
.syntax--markup.syntax--deleted {
  color: #e06c75;
}
.syntax--markup.syntax--italic {
  color: #c678dd;
  font-style: italic;
}
.syntax--markup.syntax--heading {
  color: #e06c75;
}
.syntax--markup.syntax--heading .syntax--punctuation.syntax--definition.syntax--heading {
  color: #61afef;
}
.syntax--markup.syntax--link {
  color: #56b6c2;
}
.syntax--markup.syntax--inserted {
  color: #98c379;
}
.syntax--markup.syntax--quote {
  color: #d19a66;
}
.syntax--markup.syntax--raw {
  color: #98c379;
}
.syntax--source.syntax--c .syntax--keyword.syntax--operator {
  color: #c678dd;
}
.syntax--source.syntax--cpp .syntax--keyword.syntax--operator {
  color: #c678dd;
}
.syntax--source.syntax--cs .syntax--keyword.syntax--operator {
  color: #c678dd;
}
.syntax--source.syntax--css .syntax--property-name,
.syntax--source.syntax--css .syntax--property-value {
  color: #828997;
}
.syntax--source.syntax--css .syntax--property-name.syntax--support,
.syntax--source.syntax--css .syntax--property-value.syntax--support {
  color: #abb2bf;
}
.syntax--source.syntax--elixir .syntax--source.syntax--embedded.syntax--source {
  color: #abb2bf;
}
.syntax--source.syntax--elixir .syntax--constant.syntax--language,
.syntax--source.syntax--elixir .syntax--constant.syntax--numeric,
.syntax--source.syntax--elixir .syntax--constant.syntax--definition {
  color: #61afef;
}
.syntax--source.syntax--elixir .syntax--variable.syntax--definition,
.syntax--source.syntax--elixir .syntax--variable.syntax--anonymous {
  color: #c678dd;
}
.syntax--source.syntax--elixir .syntax--quoted {
  color: #98c379;
}
.syntax--source.syntax--elixir .syntax--keyword.syntax--special-method,
.syntax--source.syntax--elixir .syntax--embedded.syntax--section,
.syntax--source.syntax--elixir .syntax--embedded.syntax--source.syntax--empty {
  color: #e06c75;
}
.syntax--source.syntax--elixir .syntax--readwrite.syntax--module .syntax--punctuation {
  color: #e06c75;
}
.syntax--source.syntax--elixir .syntax--regexp.syntax--section,
.syntax--source.syntax--elixir .syntax--regexp.syntax--string {
  color: #be5046;
}
.syntax--source.syntax--elixir .syntax--separator,
.syntax--source.syntax--elixir .syntax--keyword.syntax--operator {
  color: #d19a66;
}
.syntax--source.syntax--elixir .syntax--variable.syntax--constant {
  color: #e5c07b;
}
.syntax--source.syntax--elixir .syntax--array,
.syntax--source.syntax--elixir .syntax--scope,
.syntax--source.syntax--elixir .syntax--section {
  color: #828997;
}
.syntax--source.syntax--gfm .syntax--markup {
  -webkit-font-smoothing: auto;
}
.syntax--source.syntax--gfm .syntax--link .syntax--entity {
  color: #61afef;
}
.syntax--source.syntax--go .syntax--storage.syntax--type.syntax--string {
  color: #c678dd;
}
.syntax--source.syntax--ini .syntax--keyword.syntax--other.syntax--definition.syntax--ini {
  color: #e06c75;
}
.syntax--source.syntax--java .syntax--storage.syntax--modifier.syntax--import {
  color: #e5c07b;
}
.syntax--source.syntax--java .syntax--storage.syntax--type {
  color: #e5c07b;
}
.syntax--source.syntax--java .syntax--keyword.syntax--operator.syntax--instanceof {
  color: #c678dd;
}
.syntax--source.syntax--java-properties .syntax--meta.syntax--key-pair {
  color: #e06c75;
}
.syntax--source.syntax--java-properties .syntax--meta.syntax--key-pair > .syntax--punctuation {
  color: #abb2bf;
}
.syntax--source.syntax--js .syntax--keyword.syntax--operator {
  color: #56b6c2;
}
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--delete,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--in,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--of,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--instanceof,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--new,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--typeof,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--void {
  color: #c678dd;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--string.syntax--quoted.syntax--json {
  color: #e06c75;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--string.syntax--quoted.syntax--json > .syntax--punctuation.syntax--string {
  color: #e06c75;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--array.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json > .syntax--punctuation,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--array.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json > .syntax--punctuation {
  color: #98c379;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--constant.syntax--language.syntax--json,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--array.syntax--json > .syntax--constant.syntax--language.syntax--json {
  color: #56b6c2;
}
.syntax--source.syntax--ruby .syntax--constant.syntax--other.syntax--symbol > .syntax--punctuation {
  color: inherit;
}
.syntax--source.syntax--python .syntax--keyword.syntax--operator.syntax--logical.syntax--python {
  color: #c678dd;
}
.syntax--source.syntax--python .syntax--variable.syntax--parameter {
  color: #d19a66;
}
</style>
  </head>
  <body class='markdown-preview' data-use-github-style><h1 id="jdchain-">JDChain安装部署指南</h1>
<h2 id="1-">1. 部署环境</h2>
<h3 id="1-1-">1.1 系统部署结构</h3>
<p><img alt="部署结构" src="/Users/shaozhuguang/Documents/work/自研区块链/安装部署/imgs/structure.png"></p>
<p>JDChain有三类节点：Peer、网关和客户端。peer节点是区块链主节点，参与共识、账本操作等；网关节点（GateWay）与Peer节点通信，负责区块链浏览器及消息传递；客户端与网关通信，可以进行写入或查询账本等操作。</p>
<p>JDChain默认采用Rocksdb作为存储数据库，每个Peer节点与一个（或多个）Rocksdb实例连接，Rocksdb实例的数量与账本相关，不同Peer节点对应不同的Rocksdb实例。</p>
<p>JDChain也支持Redis作为其存储数据库，Redis数据库不必和Peer节点安装在同一服务器，只需要配置正确即可（后面配置会说到）。</p>
<p>JDChain默认共识机制采用的是BFTSmart，该共识算法要求最低四个共识节点，BFTSmart 对作恶节点的支持为：N = 3f+1，即在N个节点共识中可允许f个作恶节点，当节点数增加时可根据该公式进行配置。</p>
<p> <em>本安装部署指南以四个节点为例进行说明。</em></p>
<hr>
<h3 id="1-2-">1.2 服务器配置</h3>
<h4 id="1-2-1-">1.2.1 硬件配置</h4>
<p>为了更好的运行，JDChain推荐使用 <strong>Linux</strong> 操作系统，Peer节点自身运行对内存要求较低，但对于Rocksdb存储而言，其对运行环境有较高要求，以下为单Peer节点可正常运行  <strong>亿级交易</strong> 的参考指标：</p>
<ul>
<li>内核2.7.x及以上；</li>
<li>CPU主频 ≥ 2.0GHz；</li>
<li>内存 ≥ 64G；</li>
<li>可用硬盘容量 &gt;= 200G</li>
</ul>
<h4 id="1-2-2-">1.2.2 软件配置</h4>
<p>JDChain使用Java开发，其软件需求如下：</p>
<ul>
<li>JDK：Version ≥ 1.8。</li>
</ul>
<blockquote>
<p> 注意：若数据库使用的Redis，则需要对应数据库服务器安装Redis，Redis版本要求&gt;=3.x。</p>
</blockquote>
<hr>
<h2 id="2-">2. 系统安装与配置</h2>
<h3 id="2-1-">2.1 安装包结构</h3>
<p>JDChain默认发布的安装包有两个，一个是Peer节点打包程序，一个是Gateway节点打包程序，两者默认都是用tar.gz（或zip）打包的。</p>
<h4 id="2-1-1-peer-">2.1.1 Peer节点安装包</h4>
<p>Peer节点打包程序为：jdchain-peer-$version.tar.gz或jdchain-peer-$version.zip，若是tar.gz压缩文件可通过tar命令解压（如下）：</p>
<pre class="editor-colors lang-shell"><div class="line"><span class="syntax--source syntax--shell"><span>tar&nbsp;-xzvf&nbsp;jdchain-peer-</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>version</span></span><span>.tar.gz</span></span></div></pre>
<p>若是zip文件可通过unzip命令解压（如下）：</p>
<pre class="editor-colors lang-shell"><div class="line"><span class="syntax--source syntax--shell"><span>unzip&nbsp;jdchain-peer-</span><span class="syntax--variable syntax--other syntax--normal syntax--shell"><span class="syntax--punctuation syntax--definition syntax--variable syntax--shell"><span>$</span></span><span>version</span></span><span>.zip</span></span></div></pre>
<blockquote>
<p>注意：$version为JDChain发布的版本号</p>
</blockquote>
<p>Peer打包程序解压完后的安装包结构如下：</p>
<ul>
<li>bin<ul>
<li>keygen.sh</li>
<li>ledger-init.sh</li>
<li>startup.sh</li>
<li>shutdown.sh</li>
</ul>
</li>
<li>config<ul>
<li>init<ul>
<li>ledger-init.conf</li>
<li>local.conf</li>
<li>bftsmart.config（默认）</li>
</ul>
</li>
<li>keys<ul>
<li>%.priv</li>
<li>%.pub</li>
<li>%.pwd</li>
</ul>
</li>
<li>ledger-binding.conf</li>
<li>application.properties</li>
</ul>
</li>
<li>docs</li>
<li>libs</li>
<li>system</li>
</ul>
<p>其中目录说明如下：</p>
<ul>
<li><strong>bin</strong> ：相关命令操作目录；</li>
<li><strong>config</strong> ：对应命令的配置目录，keys路径默认可能不存在，会在执行相关脚本时自动创建；</li>
<li><strong>docs</strong> ：相关文档保存目录；</li>
<li><strong>libs</strong> ：项目运行依赖第三方及非system依赖包保存路径；</li>
<li><strong>system</strong> ：项目运行系统包保存路径；</li>
</ul>
<blockquote>
<p>1）注意： <em>bin</em> 目录下所有的文件都需要可执行权限，在Linux环境下可简单参考如下命令：</p>
<pre class="editor-colors lang-"><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>cd&nbsp;bin</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>chmod&nbsp;777&nbsp;*</span></span></div></pre><p>2）注意：system文件夹包括运行时系统主要加载的jar文件，为系统安全运行定制，开发者无须关心此项。</p>
</blockquote>
<h4 id="2-1-2-gateway-">2.1.2 Gateway节点安装包</h4>
<p>Gateway节点打包程序为：jdchain-gateway-$version.tar.gz或jdchain-gateway-$version.zip，其解压完后的安装包结构如下：</p>
<ul>
<li>bin<ul>
<li>startup.sh</li>
<li>shutdown.sh</li>
</ul>
</li>
<li>config<ul>
<li>gateway.conf</li>
</ul>
</li>
<li>lib</li>
</ul>
<p> 其中目录说明如下：</p>
<ul>
<li><strong>bin</strong> ：相关命令操作目录；</li>
<li><strong>config</strong> ：对应命令的配置目录；</li>
<li><strong>lib</strong> ：gateway运行时所需jar包路径；</li>
</ul>
<h3 id="2-2-">2.2 注册用户</h3>
<p>JDChain以一个 <em>密钥对</em> 标识一个用户，任何区块链操作都必须有用户的签名信息，因此首先需要创建一个用户。<br>JDChain提供了创建用户的工具，可直接通过命令行生成一个新用户。切换到bin路径，执行命令：</p>
<pre class="editor-colors lang-shell"><div class="line"><span class="syntax--source syntax--shell"><span>./keygen.sh&nbsp;-n&nbsp;jd-com</span></span></div></pre>
<p>其中jd-com是生成的密钥对文件前缀，需自定义。<br>执行命令过程中需要输入密钥对中 <em>私钥</em> 加密的密码，并选择是否将该密码编码保存（推荐选择保存，该密码编码会保存至%.pwd文件中）。</p>
<blockquote>
<p>注意：请妥善保存该密码，切勿丢失！</p>
</blockquote>
<p>执行命令后，该 <em>密钥对</em> 文件会生成到 <em>config/keys</em> 路径，如下所示：  </p>
<p><img alt="keys" src="/Users/shaozhuguang/Documents/work/自研区块链/安装部署/imgs/keys.jpeg"></p>
<p>其中，jd-com.priv是签名私钥的密文形式内容（以口令哈希作为对称密钥，对签名私钥进行对称加密后的密文数据），jd-com.pub为签名公钥内容，jd-com.pwd是用于加密签名私钥的口令哈希值。</p>
<blockquote>
<p>注意：%.pwd记录的编码在后续Gateway配置时会用到！</p>
</blockquote>
<p><strong>请将所有Peer节点都按照上述流程注册一个独立的用户，在实际生产环境中该过程可能由不同的参与方完成。</strong></p>
<h3 id="2-3-">2.3 账本初始化</h3>
<p>账本初始化是所有参与Peer节点进行共识，并生成初始化账本至数据库的过程。该过程需要所有节点共同参与，同时启动。</p>
<h4 id="2-3-1-">2.3.1 初始化配置</h4>
<p><em>config/init</em> 目录下有三个配置文件需要修改：<strong>local.conf</strong> 、 <strong>ledger-init.conf</strong> 和 <strong>bftsmart.config</strong> 。</p>
<ul>
<li>local.conf描述账本初始化的本地（即当前节点）配置；</li>
<li>ledger-init.conf描述账本初始化过程中涉及到的其他参与Peer节点配置信息;</li>
<li>bftsmart.config为BFTSmart进行共识的相关配置。</li>
</ul>
<h5 id="2-3-1-1-local-conf-">2.3.1.1 local.conf配置</h5>
<pre class="editor-colors lang-config"><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#当前参与方的&nbsp;id</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>local.parti.id=0</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#当前参与方的公钥</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>local.parti.pubkey=endPsK36koyFr1D245Sa9j83vt6pZUdFBJoJRB3xAsWM6cwhRbna</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#当前参与方的私钥（密文编码）</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>local.parti.privkey=177gjsj5PHeCpbAtJE7qnbmhuZMHAEKuMsd45zHkv8F8AWBvTBbff8yRKdCyT3kwrmAjSnY</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#当前参与方的私钥解密密钥(原始口令的一次哈希，Base58格式)，如果不设置，则启动过程中需要从控制台输入</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>local.parti.pwd=DYu3G8aGTMBW1WrTw76zxQJQU4DHLw9MLyy7peG4LKkY</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#账本初始化完成后生成的"账本绑定配置文件"的输出目录</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>ledger.binding.out=../config</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#账本数据库的连接字符，下为rocksdb样例</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#rocksdb数据库连接格式：rocksdb://{path}</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#redis数据库连接格式：redis://{ip}:{prot}/{db}</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>ledger.db.uri=rocksdb:///export/app/peer/rocks.db/rocksdb0.db</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#账本数据库的连接口令</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>ledger.db.pwd=</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#共识配置文件路径</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>consensus.conf=../bftsmart.config</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#共识Providers配置</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#BftSmart共识Provider：com.jd.blockchain.consensus.bftsmart.BftsmartConsensusProvider</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>consensus.service-provider=com.jd.blockchain.consensus.bftsmart.BftsmartConsensusProvider</span></span></div></pre>
<p>其中local.parti.id从 <strong>0</strong> 开始编号，且不同Peer节点不能相同；local.parti.privkey为当前节点私钥，即 <em>config/keys/%.priv</em> 文件中的内容；其他参数根据实际环境进行配置。</p>
<h5 id="2-3-1-2-ledger-init-conf-">2.3.1.2 ledger-init.conf配置</h5>
<pre class="editor-colors lang-config"><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#账本的种子；一段16进制字符，最长可以包含64个字符；可以用字符“-”分隔，以便更容易读取；</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>ledger.seed=932dfe23-fe23232f-283f32fa-dd32aa76-8322ca2f-56236cda-7136b322-cb323ffe</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#账本的描述名称；此属性不参与共识，仅仅在当前参与方的本地节点用于描述用途；</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#ledger.name=</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#参与方的个数，后续以&nbsp;cons_parti.id&nbsp;分别标识每一个参与方的配置；</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>cons_parti.count=4</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#第0个参与方的名称</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>cons_parti.0.name=parti-0.com</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#第0个参与方的公钥文件路径</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>cons_parti.0.pubkey-path=</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#第0个参与方的公钥内容（由keygen工具生成），此参数优先于&nbsp;pubkey-path&nbsp;参数</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>cons_parti.0.pubkey=endPsK36koyFr1D245Sa9j83vt6pZUdFBJoJRB3xAsWM6cwhRbna</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#第0个参与方的账本初始服务的主机</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>cons_parti.0.initializer.host=127.0.0.1</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#第0个参与方的账本初始服务的端口</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>cons_parti.0.initializer.port=17000</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#第0个参与方的账本初始服务是否开启安全连接</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>cons_parti.0.initializer.secure=false</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#第1个参与方的名称</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>cons_parti.1.name=parti-1.com</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#第1个参与方的公钥文件路径</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>cons_parti.1.pubkey-path=</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#第1个参与方的公钥内容（由keygen工具生成），此参数优先于&nbsp;pubkey-path&nbsp;参数</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>cons_parti.1.pubkey=endPsK36sC5JdPCDPDAXUwZtS3sxEmqEhFcC4whayAsTTh8Z6eoZ</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#第1个参与方的账本初始服务的主机</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>cons_parti.1.initializer.host=127.0.0.1</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#第1个参与方的账本初始服务的端口</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>cons_parti.1.initializer.port=17010</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#第1个参与方的账本初始服务是否开启安全连接</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>cons_parti.1.initializer.secure=false</span></span></div></pre>
<p>账本初始化过程中，需要其他Peer节点的公钥信息进行验证及保存，因此每个节点都需要获取其他Peer节点的公钥信息至本地。配置中cons_parti.N.<strong>*</strong>中的N需按照实际每个参与方定义的序号配置（该配置为local.conf中的local.parti.id）。其他参数根据实际环境进行配置。</p>
<blockquote>
<p>注意：上述config中只显示了两个参与方（Peer节点）的配置信息，其他参与方（默认是4个节点）的配置方式一致！</p>
</blockquote>
<h5 id="2-3-1-1-bftsmart-config-">2.3.1.1 bftsmart.config配置</h5>
<pre class="editor-colors lang-config"><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>system.block.txsize=15</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>system.block.maxdelay=500</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>system.server.0.pubkey=endPsK36koyFr1D245Sa9j83vt6pZUdFBJoJRB3xAsWM6cwhRbna</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>system.server.0.network.host=127.0.0.1</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>system.server.0.network.port=16000</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>system.servers.num&nbsp;=&nbsp;4</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>system.servers.f&nbsp;=&nbsp;1</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>system.initial.view&nbsp;=&nbsp;0,1,2,3</span></span></div></pre>
<blockquote>
<p>注意：上述只是将bftsmart.config文件中主要需要修改的参数显示，以方便进行相关说明，其他参数的修改可参考具体文件中的具体说明</p>
</blockquote>
<p>参数具体说明如下：</p>
<ul>
<li>system.block.txsize：每个区块结块期望含交易数量；</li>
<li>system.block.maxdelay：区块结块时最大时延（单位：毫秒），该参数与system.block.txsize符合优先发生原则；</li>
<li>system.server.$n.pubkey：第n节点的公钥信息；</li>
<li>system.server.$n.network.host：第n个节点的域名；</li>
<li>system.server.$n.network.port：第n个节点的共识端口；</li>
<li>system.servers.num：共识节点总数；</li>
<li>system.servers.f：共识节点最大支持的作恶节点数；</li>
<li>system.initial.view：为每个共识节点分配的viewID，每个viewID之间使用英文逗号分隔，viewID不允许重复，且viewID总数需要和system.servers.num一致。</li>
</ul>
<h4 id="2-3-2-">2.3.2 初始化部署</h4>
<p>按照 <em>2.3.1章节</em> 配置完成后，只需要启动ledger-init.sh即可，可参考如下命令：</p>
<pre class="editor-colors lang-shell"><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>cd</span></span><span>&nbsp;bin</span></span></div><div class="line"><span class="syntax--source syntax--shell"><span>./ledger-init.sh</span></span></div></pre>
<p>执行命令之后，会在 <em>config</em> 目录下生成ledger-binding.conf文件，该文件即账本初始化生成的文件，Peer节点启动时需要依赖该文件。</p>
<blockquote>
<p>1）注意：因为JDChain支持多账本形式，若config/ledger-binding.conf文件在初始化之前就存在的话，初始化操作后不会覆盖其中的内容，会以追加的方式写入。若第一次创建账本，建议先将该文件删除再进行初始化！</p>
<p>2）注意：Peer节点会定时检测ledger-binding.conf，有新账本加入时会自动进行更新，不需要重启Peer节点！</p>
</blockquote>
<p>账本初始化成功后，每个Peer节点对应的Rocksdb都会写入该账本相关的数据。</p>
<h3 id="2-4-peer-">2.4 Peer节点安装</h3>
<p>Peer节点启动依赖于 <em>config</em> 目录下ledger-binding.conf的配置，该文件由 <em>2.3章节</em> 操作生成，无须做任何修改；application.properties文件中主要用于配置Peer节点对外HTTP端口。</p>
<blockquote>
<p>注意：application.properties文件可能不存在，可手动创建。该文件中配置适用于SpringBoot2.x版本的相关参数，不限于目前内置的启动端口。</p>
</blockquote>
<p>由于Peer节点启动后会自动与其他参与节点进行通信，因此需要同时启动4个Peer节点，只需要执行startup.sh即可，参考命令：  </p>
<pre class="editor-colors lang-shell"><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>cd</span></span><span>&nbsp;bin</span></span></div><div class="line"><span class="syntax--source syntax--shell"><span>./startup.sh</span></span></div></pre>
<blockquote>
<p>1）注意：startup.sh命令中可修改启动端口，默认为：-p 17080；</p>
<p>2）注意：Peer节点会与账本中涉及到的参与方进行通信，当通信不成功（例如有节点尚未启动）时，会自动进行重试，因此多个Peer节点启动可不必完全同时进行。</p>
</blockquote>
<h3 id="2-5-gateway-">2.5 Gateway节点安装</h3>
<p>GateWay（网关）节点可以认为是一个过滤节点，交易的提交及账本的查询都需要通过网关节点与Peer节点进行通信。
Gateway程序可独立部署，不需要依赖Peer节点，它的操作环境是 <em>2.1.2章节</em> 中解压后的环境，网关节点启动依赖于配置文件 <em>config/gateway.conf</em>。  </p>
<pre class="editor-colors lang-config"><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#网关的HTTP服务地址；</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>http.host=127.0.0.1</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#网关的HTTP服务端口；</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>http.port=8081</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#网关的HTTP服务上下文路径，可选；</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#http.context-path=</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#共识节点的服务地址；</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>peer.host=127.0.0.1</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#共识节点的服务端口；</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>peer.port=7080</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#共识节点的服务是否启用安全证书；</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>peer.secure=false</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#共识节点的服务提供解析器</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>peer.providers=com.jd.blockchain.consensus.bftsmart.BftsmartConsensusProvider</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#数据检索服务对应URL</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#若该值不配置或配置不正确，则浏览器模糊查询部分无法正常显示</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>data.retrieval.url=</span><span class="syntax--markup syntax--underline syntax--link syntax--http syntax--hyperlink"><span>http://192.168.151.39:10001</span></span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>&nbsp;</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#默认公钥的内容（Base58编码数据）；</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>keys.default.pubkey=endPsK36koyFr1D245Sa9j83vt6pZUdFBJoJRB3xAsWM6cwhRbna</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#默认私钥的路径；在&nbsp;pk-path&nbsp;和&nbsp;pk&nbsp;之间必须设置其一；</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>keys.default.privkey-path=</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#默认私钥的内容（加密的Base58编码数据）；在&nbsp;pk-path&nbsp;和&nbsp;pk&nbsp;之间必须设置其一；</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>keys.default.privkey=177gjsj5PHeCpbAtJE7qnbmhuZMHAEKuMsd45zHkv8F8AWBvTBbff8yRKdCyT3kwrmAjSnY</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>#默认私钥的解码密码；</span></span></div><div class="line"><span class="syntax--text syntax--plain syntax--null-grammar"><span>keys.default.privkey-password=DYu3G8aGTMBW1WrTw76zxQJQU4DHLw9MLyy7peG4LKkY</span></span></div></pre>
<p>其中keys.default.%配置是网关的角色配置，目前暂不支持网关自定义角色，因此，网关可选择4个参与方的任何一个作为其配置（主要是密钥对）。</p>
<blockquote>
<p>注意：keys.default.privkey-password填写内容为<em>2.2章节</em>中生成的%.pwd文件中的内容！</p>
</blockquote>
<p>启动网关节点只需要执行：startup.sh即可，参考命令：</p>
<pre class="editor-colors lang-shell"><div class="line"><span class="syntax--source syntax--shell"><span class="syntax--support syntax--function syntax--builtin syntax--shell"><span>cd</span></span><span>&nbsp;bin</span></span></div><div class="line"><span class="syntax--source syntax--shell"><span>./startup.sh</span></span></div></pre>
<p>网关节点启动成功后，可通过访问区块链浏览器获取其账本相关信息：<a href="http://[ip]:[port">http://[ip]:[port</a>]
下图为区块链浏览器首页，可供参考：</p>
<p><img alt="区块链浏览器" src="/Users/shaozhuguang/Documents/work/自研区块链/安装部署/imgs/browser.jpeg"></p>
<blockquote>
<p>注意：JDChain网关节点默认自带区块链浏览器！！！</p>
</blockquote></body>
</html>
